function slickFunc(){$(".products_cards_men").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,speed:600,arrows:!0,prevArrow:".left_men",nextArrow:".right_men",draggable:!1,responsive:[{breakpoint:992,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:2}},{breakpoint:768,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:576,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),$(".products_cards_women").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,speed:600,arrows:!0,prevArrow:".left_women",nextArrow:".right_women",draggable:!1,responsive:[{breakpoint:992,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:2}},{breakpoint:768,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:576,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),$(".products_cards_children").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,speed:600,arrows:!0,prevArrow:".left_children",nextArrow:".right_children",draggable:!1,responsive:[{breakpoint:992,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:2}},{breakpoint:768,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:576,settings:{draggable:!0,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),null==localStorage.getItem("userID")&&localStorageFunc(),console.log(localStorage.getItem("userID")),0!=+localStorage.getItem("userID")&&""!=localStorage.getItem("userID")&&($(".user_ava img").attr("src","img/user_logged.png"),$(".cart_count").text(localStorage.getItem("cartAmount")),$("#user_name").html(localStorage.getItem("userName")+" "+localStorage.getItem("userSecName")),$("#user_mail").html(localStorage.getItem("userMail")),"L"==localStorage.getItem("userTheme")?$("#user_theme").html("Light Theme"):$("#user_theme").html("Dark Theme"),console.log("UserId: "+localStorage.getItem("userID")),"T"==localStorage.getItem("isAdmin")&&($(".user_info").append(localStorage.getItem("manager")),$("#manager").click((function(){document.location.href="managerPanel/managerPanel.html",console.log("asdasd")})))),$(".userId").attr("value",localStorage.getItem("userID"))}function localStorageFunc(e=0,t=0,a="",s="",r="",n="L",c){console.log("Передан UserId: "+e),localStorage.setItem("userID",e),localStorage.setItem("cartAmount",t),localStorage.setItem("userName",a),localStorage.setItem("userSecName",s),localStorage.setItem("userMail",r),localStorage.setItem("userTheme",n),localStorage.setItem("isAdmin",c)}$(document).ready((function(){$.get("php/index.php",{aim:"getItems"},(function(e){let t=jQuery.parseJSON(e);$(".products_cards_men").html(""),$(".products_cards_women").html(""),$(".products_cards_children").html("");let a="",s="";for(let e=0;e<t.length;e++){let r=t[e].sizes,n=t[e].colors;if(a="",s="","man"==t[e].gender){for(let e=0;e<r.length;e++)a+='<span class="sizes" value="'+r[e]+'">'+r[e]+"</span>";for(let e=0;e<n.length;e++)s+='<span class="colors" style="background: '+n[e]+'" value="'+n[e]+'"></span>';$(".products_cards_men").html($(".products_cards_men").html()+'<div class="card"><div class= "card_top" ><div class="card_size_cont"><div class="card_sizes_block">'+a+'</div><p>size</p><img src="img/card-angle-down.png" alt="" class="size_btn"></div><div class="card_colors_cont">'+s+'</div></div><div class="card_mid"><img src="img/'+t[e].name+"_"+t[e].gender+'.png" alt=""></div><div class="card_bottom"><p class="card_products_name">'+t[e].name+'</p><p class="card_products_price">'+t[e].price+',00 € </p></div>   <div class="card_forms"><input type="text" name="color" class="inpColor" value hidden><input type="text" name="size" class="inpSize" value hidden><input type="text" name="price" class="inpPrice" value="'+t[e].price+'" hidden><input type="text" name="name" class="inpName" value="'+t[e].name+'" hidden><input type="text" name="id" class="inpId" value="'+t[e].id+'" hidden><input type="text" name="gender" class="inpGender" value="'+t[e].gender+'" hidden><input type="text" name="userId" class="userId" value="" hidden><button onclick="addToCart(this)" class="add_to_cart">Add to cart</button></div></div > ')}else if("woman"==t[e].gender){for(let e=0;e<r.length;e++)a+='<span class="sizes" value="'+r[e]+'">'+r[e]+"</span>";for(let e=0;e<n.length;e++)s+='<span class="colors" style="background: '+n[e]+'" value="'+n[e]+'"></span>';$(".products_cards_women").html($(".products_cards_women").html()+'<div class="card"><div class= "card_top" ><div class="card_size_cont"><div class="card_sizes_block">'+a+'</div><p>size</p><img src="img/card-angle-down.png" alt="" class="size_btn"></div><div class="card_colors_cont">'+s+'</div></div><div class="card_mid"><img src="img/'+t[e].name+"_"+t[e].gender+'.png" alt=""></div><div class="card_bottom"><p class="card_products_name">'+t[e].name+'</p><p class="card_products_price">'+t[e].price+',00 € </p></div>   <div class="card_forms"><input type="text" name="color" class="inpColor" value hidden><input type="text" name="size" class="inpSize" value hidden><input type="text" name="price" class="inpPrice" value="'+t[e].price+'" hidden><input type="text" name="name" class="inpName" value="'+t[e].name+'" hidden><input type="text" name="id" class="inpId" value="'+t[e].id+'" hidden><input type="text" name="gender" class="inpGender" value="'+t[e].gender+'" hidden><input type="text" name="userId" class="userId" value="" hidden><button onclick="addToCart(this)" class="add_to_cart">Add to cart</button></div></div > ')}else{for(let e=0;e<r.length;e++)a+='<span class="sizes" value="'+r[e]+'">'+r[e]+"</span>";for(let e=0;e<n.length;e++)s+='<span class="colors" style="background: '+n[e]+'" value="'+n[e]+'"></span>';$(".products_cards_children").html($(".products_cards_children").html()+'<div class="card"><div class= "card_top" ><div class="card_size_cont"><div class="card_sizes_block">'+a+'</div><p>size</p><img src="img/card-angle-down.png" alt="" class="size_btn"></div><div class="card_colors_cont">'+s+'</div></div><div class="card_mid"><img src="img/'+t[e].name+"_"+t[e].gender+'.png" alt=""></div><div class="card_bottom"><p class="card_products_name">'+t[e].name+'</p><p class="card_products_price">'+t[e].price+',00 € </p></div>   <div class="card_forms"><input type="text" name="color" class="inpColor" value hidden><input type="text" name="size" class="inpSize" value hidden><input type="text" name="price" class="inpPrice" value="'+t[e].price+'" hidden><input type="text" name="name" class="inpName" value="'+t[e].name+'" hidden><input type="text" name="id" class="inpId" value="'+t[e].id+'" hidden><input type="text" name="gender" class="inpGender" value="'+t[e].gender+'" hidden><input type="text" name="userId" class="userId" value="" hidden><button onclick="addToCart(this)" class="add_to_cart">Add to cart</button></div></div > ')}}cardsStart(),colorsStart(),sizesStart(),slickFunc()}));setInterval((function(){$("#header").css({"background-image":'url("img/header_back_'+e+'.png")'}),e++,e>3&&(e=1)}),5e3);let e=2}));const arrowDtimer=setInterval(arrowDownAnim,1200);function arrowDownAnim(){$("#header_arrow").css({transform:"translateY(10px)"}),setTimeout((function(){$("#header_arrow").css({transform:"translateY(0px)"})}),600)}const checks=$(".product_type");$(checks).prop("checked",!0);for(let e=0;e<checks.length;e++)$(checks[e]).on("change",(function(){$("#products_"+this.id.slice(13)).slideToggle(500)}));let men_cards,women_cards,children_cards,cards_all,contentTop=$("#content").position();function sizesStart(){let e=$(".card_size_cont");$(".card_sizes_block").slideToggle(0);for(let t=0;t<e.length;t++)$(e[t]).on("click",(function(){sizeBtn(this)}))}function sizeBtn(e){$(e).children(".card_sizes_block").slideToggle(200),$(e).children(".card_sizes_block").children(".sizes").click((function(){$(e).parent(".card_top").parent(".card").children(".card_forms").children('input[name="size"]').attr("value",$(e).children().children("span").attr("value"))}))}function cardsStart(){men_cards=$(".products_cards_men").children(".card"),women_cards=$(".products_cards_women").children(".card"),children_cards=$(".products_cards_children").children(".card"),cards_all=$(".card");for(let e=0;e<men_cards.length;e++)$(men_cards[e]).click((function(){cardClicked(this,"men")}));for(let e=0;e<women_cards.length;e++)$(women_cards[e]).click((function(){cardClicked(this,"women")}));for(let e=0;e<children_cards.length;e++)$(children_cards[e]).click((function(){cardClicked(this,"children")}))}function cardClicked(e,t){"men"==t&&$(men_cards).css({border:"5px solid transparent"}),"women"==t&&$(women_cards).css({border:"5px solid transparent"}),"children"==t&&$(children_cards).css({border:"5px solid transparent"}),$(e).css({border:"5px solid #aa9b77"})}function colorsStart(){$(".colors").click((function(){colorsClick(this)}))}function colorsClick(e){$(e).siblings(".colors").css("border","2px solid transparent"),$(e).css("border","2px solid #aa9b77"),$(e).parent(".card_colors_cont").parent(".card_top").parent(".card").children(".card_forms").children('input[name="color"]').attr("value",$(e).attr("value"))}$("#header_arrow").click((function(){$("html, body").animate({scrollTop:contentTop.top},800)})),$("#all_products_btn").click((function(){for(let e=0;e<3;e++)0==checks.eq(e).prop("checked")&&$(".product_type").eq(e).trigger("change");$(".product_type").prop("checked",!0);let e=$("#products_cont").offset().top;$("html, body").animate({scrollTop:e},500)})),$("#products_nav").click((function(){let e=$("#products_cont").offset().top;$("html,body").animate({scrollTop:e},300)}));let senddata,ava_status,cardForms=$(".card_forms");$(".user_autho").fadeToggle(0),$(".user_info").fadeToggle(0),$("#user_email").slideToggle(0),$(".user_ava").on("click",(function(){ava_status=$(".user_ava img").attr("src"),"img/user.png"==ava_status?$(".user_autho").fadeToggle(200):"img/user_logged.png"==ava_status&&$(".user_info").fadeToggle(200)}));let flag_login=0;$("#user_register").on("click",(function(){$("#user_email").slideToggle(300),"Login"==$("#user_submit").html()?($("#user_submit").html("Register"),$("#user_register").html("Login"),flag_login=1):($("#user_submit").html("Login"),$("#user_register").html("Register"),flag_login=0)}));let userID,cart_count,login_data={},regexpMail=/^\w{4,15}@{1}(mail.ru||gmail.com){1}$/gm;function cartCount(e){$.get("php/cart.php",{userID:+e},(function(e){cart_count=+e,localStorage.setItem("cartAmount",cart_count),$(".cart_count").text(cart_count)}))}function addToCart(e){let t=$(e).siblings(".inpId").val(),a=$(e).siblings(".inpName").val(),s=$(e).siblings(".inpColor").val(),r=$(e).siblings(".inpGender").val(),n=$(e).siblings(".inpSize").val(),c=$(e).siblings(".inpPrice").val(),l=$(e).siblings(".userId").val();""==l?alert("Please log-in or register new account."):s&&n?(senddata={id:+t,name:a,color:s,gender:r,size:+n,price:+c,userId:+l},console.log(senddata),$.get("php/cart.php",senddata,(function(e){cartCount(l),console.log(e)}))):alert("Please, choose color and size.")}$("#wrong_user").fadeOut(0),$("#success_user").fadeOut(0),$("#exist_user").fadeOut(0),$("#user_submit").click((function(){let e=$("#user_email").val(),t=$("#user_login").val(),a=$("#user_pass").val();if(login_data={},0==flag_login)""!=t&&""!=a&&(login_data={type:"login",login:t,pass:a});else{if(!regexpMail.test(e))return void alert("Incorrect mail format!");""!=e&&""!=t&&""!=a&&(login_data={type:"registr",mail:e,login:t,pass:a})}$.post("php/login.php",login_data,(function(e){console.log(e),e?"Exist"==e?($("#exist_user").fadeIn(300),setTimeout((()=>{$("#exist_user").fadeOut(300)}),1500)):"Success"==e?($("#success_user").fadeIn(300),setTimeout((()=>{$("#success_user").fadeOut(300)}),1500),$(".user_autho").fadeToggle(200),$("#user_email").slideToggle(300),$("#user_submit").html("Login"),$("#user_register").html("Register"),flag_login=0,$("#user_email").val(""),$("#user_login").val(""),$("#user_pass").val("")):(e=e.split(";"),userID=e[6],$("#user_name").html(e[0]+" "+e[1]),$("#user_mail").html(e[3]),"L"==e[4]?$("#user_theme").html("Light Theme"):$("#user_theme").html("Dark Theme"),$(".user_ava img").attr("src","img/user_logged.png"),$(".user_autho").fadeToggle(200),cartCount(userID),localStorageFunc(userID,cart_count,e[0],e[1],e[3],e[4],e[5]),$(".userId").attr("value",localStorage.getItem("userID")),"undefined"!=e[7]&&($(".user_info").append(e[7]),localStorage.setItem("manager",e[7]),$("#manager").click((function(){document.location.href="managerPanel/managerPanel.html",console.log("asdasd")}))),$("#user_email").val(""),$("#user_login").val(""),$("#user_pass").val("")):($("#wrong_user").fadeIn(300),setTimeout((()=>{$("#wrong_user").fadeOut(300)}),1500))}))})),$("#user_log-out").click((function(){$(".user_ava img").attr("src","img/user.png"),$(".user_info").fadeToggle(200),"CART"!=$("#title_header").html()&&"YOUR ORDERS"!=$("#title_header").html()||(document.location.href="index.html"),localStorageFunc(),localStorage.setItem("manager","empty"),$(".forAdmin").remove(),$(".cart_count").text("0"),$(".userId").attr("value","")})),$("#user_orders").click((function(){0!=localStorage.getItem("userID")&&(document.location.href="orders.html")})),$("#cart_li").click((function(){0!=localStorage.getItem("userID")?document.location.href="cart.html":alert("Please, log-in or register new account.")})),$("#fio_change").slideUp(0),$("#user_name").click((function(){$("#fio_change").slideToggle(300)})),$("#name_change_save").click((function(){let e=$("#name_change").val(),t=$("#secName_change").val();/\w+/gm.test(e)&&/\w+/gm.test(t)&&$.post("php/users.php",{name_change:e,secName_change:t,userID:localStorage.getItem("userID")},(function(e){console.log(e),e=e.split("/"),$("#user_name").html(e[0]+" "+e[1]),$("#fio_change").slideToggle(300),localStorage.setItem("userName",e[0]),localStorage.setItem("userSecName",e[1])}))})),$("#home").click((function(){document.location.href="index.html"})),$("#nav_logo").click((function(){document.location.href="index.html"})),$("#about_footer").click((function(){document.location.href="about.html"})),$("#help_footer").click((function(){document.location.href="help.html"})),$("#feedback_form").submit((function(){var e=$(this);return $.ajax({type:"POST",url:"php/mail.php",data:e.serialize()}).done((function(){alert("Your feedback sent. We will reply to you as soon as possible!"),setTimeout((function(){e.trigger("reset")}),1e3)})),!1}));